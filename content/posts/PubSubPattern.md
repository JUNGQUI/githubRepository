---
title: "PubSubPattern"
date: 2020-10-28T21:25:44+09:00
draft: true
tags: ["Programming"]
---
## Pub/Sub Pattern?

이름에서 알 수 있듯이 패턴이다. pub/sub 에서 pub 은 publish, sub 는 subscribe 이다.

해석하자면 배포/구독 패턴인 셈인데, 간단하게 이야기 하자면 배포를 하는 모듈과 그 배포를 구독하는 구독 모듈이 별도로 구분되어
Business Logic 을 수행하는 것이다.

조금 구글링을 해보니 다양한 곳에서 쓰이고 있는데 대표적으로 react 의 state 와 prop 을 이용한 값의 변화 시 rendering 또한
이와 같은 것이라 볼 수 있다고 한다. 또한 DB 에서는 postgreSQL log-shipping 을 이용한 이중화도 이와 같다고 볼 수 있다.

## 왜 알아야 하나?

~~요새 패턴에 꽂혀있어서~~ 패턴들에 대해서 잘 알수록 특정 상황에서 그에 걸맞게 설계하고 개발을 진행 할 수 있다는 장점이 있다.

뼈대를 이미 검증된 패턴을 통해 구현하게 되면 설계 부분에서 큰 부담을 줄 수 있고 개발에만 집중 할 수 있기 떄문에 전반적으로 잘 알아야 한다고 생각한다.
또한 패턴에 대해 잘 인지할수록 새로운 기술이 나왔을 때 러닝 커브가 확 줄어든다고 생각한다.

예컨데 처음 react 의 값이 변한 부분에 대해서만 rendering 을 한다는 것은 일순 이해하기 어려운데, 패턴에 대해 인지하고 있다면
패턴과 비교하며 react 의 생애 주기에 대해 이해하기 쉬워진다.

## 구성

앞서 이야기 했듯이 publish 와 subscribe 로 나뉘어져 있다.

- publish

배포 역할. 변경된 `무언가` 를 중간 module 에 전달하는 역할을 한다.

당연하게도 `무언가` 를 변경하는 business logic 이 여기에 들어가게 된다. 

- event channel

publish 에서 내보낸 정보를 담아두고 event-driven 방식으로 subscribe(s) 에게 전달하는 역할. event-driven 이야기가 나온걸 보면 알다시피
publish 로부터 배포를 받으면 즉시 이벤트가 발생해 subscribe 에 전달하여 sync 를 맞춘다.

- subscribe

정보를 받는 역할. event channel 을 통해 `무언가` 를 전달 받으면 정해진 행동을 취하게 된다. 예컨데 log shipping 일 경우
전달받은 log 를 통해 db 반영 작업을 진행한다.

## 그래서?

디자인 패턴에 대해서 알면 알수록 정말 다양한 패턴이 많고, 실제로 사용하는 패턴들, 잘 알아두면 다른 기술을 배우는데 도움이 되는 등
패턴의 중요성을 실감하고 있다.

이 글을 읽는 분들도 다양한 패턴에 대해 실제 코딩에, 업무에 잘 적용했으면 좋겠다.

추가적으로 계속 보강을 할 에정인데, 다음에는 예제 코드를 구성쪽에 넣을 예정이다.